# 아크 그리드 메뉴 가이드

## 1. 데이터 소스와 매핑
- 백엔드 `/api/ark-grid/{characterName}` 엔드포인트는 Lost Ark `armories/characters/{name}` 응답의 `ArkPassive` 및 `ArkGrid` 섹션을 그대로 매핑합니다.
- `ArkPassive`는 루트 제목(`Title`), 포인트(`Points`), 티어별 효과(`Effects`)로 구성됩니다.
- `ArkGrid`는 `Slots`(코어 카드 + 젬 조합)와 `Effects`(전체 적용 보너스)로 구성됩니다.
- 프론트엔드는 `ArkGridResponse` 타입(포함: `arkPassive`, `arkGrid`)을 기준으로 도메인 상태를 유지합니다.

## 2. 레이아웃 원칙
1. **Overview 카드**  
   - 현재 선택한 루트 제목, 서브 카피, 포인트 요약(진화·깨달음·도약)을 상단에 배치합니다.  
   - 포인트는 chip 형태로 값/설명을 동시에 보여주어 다른 탭에 있는 전투 특성과 유사한 가독성을 제공합니다.
2. **아크 패시브 계층**  
   - 진화·깨달음·도약 세 영역으로 나누어 각 구간의 카드가 독립적으로 묶입니다.  
   - 카드 안에는 아이콘·티어 라벨·이름 그리고 `아크 패시브 레벨` 문장과 마지막 효과 라인만 노출해 집중도를 높였습니다.  
   - 패시브 수가 많아질 수 있으므로 각 그룹 내부는 `grid` 로 자동 줄바꿈되도록 구성했습니다.
3. **코어 & 젬 네트워크**  
   - 코어 카드를 article 카드로 보여주고, 하단에 연결된 젬 리스트를 계층적으로 배치합니다.  
   - 코어/젬 각각의 툴팁 텍스트는 JSON 파싱 후 bullet list 로 정규화합니다.
4. **전역 효과**  
   - `ArkGrid.effects` 는 단순 key/value 라서 리스트 형태로 정렬하며 레벨 뱃지 + 설명을 병렬로 배치합니다.

## 3. 상호작용 & 상태
- `CharacterSearch`에서 `arkGrid` 탭이 활성화될 때만 API를 lazy load 합니다.
- 로딩 상태는 `LoadingSpinner`, 오류는 `ErrorMessage`(retry 버튼), 데이터 부재는 `EmptyState`로 통일했습니다.
- 재시도는 `@retry` 이벤트를 통해 부모에서 `ensureArkGridData`를 다시 호출하도록 설계했습니다.

## 4. 향후 확장 아이디어
- 코어 카드를 클릭해 상세 툴팁 모달을 띄우거나, 젬 포인트를 비교하는 미니 차트를 추가할 수 있습니다.
- 아크 패시브 티어 필터(예: 깨달음/도약 탭)를 도입하면 빌드를 더 빠르게 비교할 수 있습니다.
- 원정대 다른 캐릭터를 선택했을 때 동일 탭에서 자연스럽게 데이터가 전환되도록 캐시 계층을 확장할 수 있습니다.
